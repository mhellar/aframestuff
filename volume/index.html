<html>

<head>
  <title>Volume</title>
  <meta name="description" content="Visualizing global average audio volume">
  </meta>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script
    src="https://unpkg.com/aframe-audioanalyser-component@5.4.0/dist/aframe-audioanalyser-component.min.js"></script>
  <script src="js/audioanalyser-volume-scale.js"></script>
  <script src="js/audioanalyser-beat-scale.js"></script>
  <script src="js/aud.js"></script>
  <script src="js/aframe-shader-frog.js"></script>
</head>

<body>
  <a-scene antialias="true">
    <a-assets>
      <audio id="song" src="sound.mp3" autoplay loop></audio>
      <img id="floor" src="https://cdn.aframe.io/a-painter/images/floor.jpg" crossOrigin="anonymous">
      <img id="skymap" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossOrigin="anonymous">
    </a-assets>
    <a-curve id="track1">
      <a-curve-point position="0 4 90"></a-curve-point>
      <a-curve-point position="0 4 -90"></a-curve-point>
    </a-curve>
    <a-entity circle="amount:1;randScaleMax:1"></a-entity>
    <a-dodecahedron radius="5" audioanalyser="src: #song" audioanalyser-volume-scale="multiplier: .006"
      position="0 2 -5" side="double"
      shader-frog="src:url(https://raw.githubusercontent.com/mhellar/aframestuff/gh-pages/basic4/shaders/sun.json)"
      animation__yoyo="property: rotation; dir: alternate; dur: 5000;
                                 easing: easeInSine; loop: true; to: 0 360 0">
      ></a-dodecahedron>


    <a-light type="ambient" color="#222"></a-light>
    <a-light type="point" position="1 2 1"></a-light>
    <a-light type="point" position="-2 2 1"></a-light>
    <!-- <a-entity id="sky"
        geometry="primitive: sphere; radius: 11; phiLength: 360; phiStart: 0; thetaLength: 90"
        material="shader: flat; side: back; height: 2048; src: #skymap; width: 2048"
      ></a-entity>
      <a-entity id="ground"
        geometry="primitive: circle; radius: 12;"
        rotation="-90 0 0"
        material="shader: flat; src: #floor"
      ></a-entity> -->
  </a-scene>
</body>

</html>