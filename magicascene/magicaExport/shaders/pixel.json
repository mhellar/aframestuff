{
  "id": 3926,
  "name": "New Composed Shader",
  "fragment": "precision highp float;\nprecision highp int;\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform float time;\nuniform sampler2D noise;\nuniform sampler2D x;\nuniform vec3 color;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvec4 Pixel_levels1572300455833_1024_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Pixel_levels1572300455833_1024_gl_FragColor = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float steps = 80.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float step = 1.0 / steps;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float scale = 0.5;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float minv = 0.4;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float maxv = 0.74;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 top = vec3(1.0, 0.0, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 side = vec3(0.5, 0.5, 0.5);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 uv = vUv + vec2(0.1, 0) * time;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float h;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 col = vec3(0.1, 0.06, 0.12);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 base = floor((uv + vec2(0, 0.0 * step)) * steps) / steps * scale;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                for (int i = -3;\n i < 3; i++) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    vec2 coord = ((uv + vec2(0, float(i) * step)) * steps) / steps * scale;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    vec2 ccoord = floor((uv + vec2(0, float(i) * step)) * steps) / steps * scale;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Pixel_levels1572300455833_1024_gl_FragColor = vec4(texture2D(noise, coord));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    int th = 6 - (i + 3);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    h = texture2D(noise, ccoord).r;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    h = (h - minv) / (maxv - minv);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    int hi = int(floor(h * 6.0));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Pixel_levels1572300455833_1024_gl_FragColor = vec4(vec3(h), 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    float shadow = 1.0 * float(6 - (i + 3)) / 6.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Pixel_levels1572300455833_1024_gl_FragColor = vec4(vec3(shadow), 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    if (hi == th) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        if (i <= -3) col = vec3(0.8, 0.8, 0.8);\n else col = top * shadow;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        break;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n else if (hi > th) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        shadow *= (ccoord.y - base.y);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        col = vec3(shadow);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                        break;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                    }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                 }\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pixel_levels1572300455833_1024_gl_FragColor = vec4(col, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Pixel_levels1572300455833_1024_gl_FragColor *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_FragColor = Pixel_levels1572300455833_1024_main();                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "vertex": "precision highp float;\nprecision highp int;\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform float time;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvec4 Pixel_levels1572300455833_1024_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Pixel_levels1572300455833_1024_gl_Position = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vNormal = normal;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vUv = uv;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vUv2 = uv2;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vPosition = position;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pixel_levels1572300455833_1024_gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return Pixel_levels1572300455833_1024_gl_Position *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_Position = Pixel_levels1572300455833_1024_main();                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "uniforms": {
    "cameraPosition": {
      "type": "v3",
      "glslType": "vec3"
    },
    "time": {
      "type": "f",
      "glslType": "float"
    },
    "color": {
      "value": {
        "r": 0,
        "g": 0.29411764705882354,
        "b": 0.9137254901960784
      },
      "type": "c",
      "glslType": "vec3"
    },
    "noise": {
      "value": null,
      "type": "t",
      "glslType": "sampler2D"
    },
    "x": {
      "value": null,
      "type": "t",
      "glslType": "sampler2D"
    }
  },
  "url": "http://shaderfrog.com/app/view/3926",
  "user": {
    "username": "mhellar",
    "url": "http://shaderfrog.com/app/profile/andrewray"
  }
}