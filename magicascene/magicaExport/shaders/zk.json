{
  "id": 3925,
  "name": "New Composed Shader",
  "fragment": "#define F4 0.309016994374947451\n\nprecision highp float;\nprecision highp int;\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform float time;\nuniform vec3 color;\nuniform vec3 hitPosition;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvec4 mod289(vec4 x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return x - floor(x * (1.0 / 289.0)) * 289.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat mod289(float x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return x - floor(x * (1.0 / 289.0)) * 289.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 permute(vec4 x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return mod289(((x * 34.0) + 1.0) * x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat permute(float x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return mod289(((x * 34.0) + 1.0) * x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 grad4(float j, vec4 ip) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec4 ones = vec4(1.0, 1.0, 1.0, -1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p, s;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p.xyz = floor(fract(vec3(j) * ip.xyz) * 7.0) * ip.z - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p.w = 1.5 - dot(abs(p.xyz), ones.xyz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                s = vec4(lessThan(p, vec4(0.0)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p.xyz = p.xyz + (s.xyz * 2.0 - 1.0) * s.www;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return p;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat snoise(vec4 v) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec4 C = vec4(0.138196601125011, 0.276393202250021, 0.414589803375032, -0.447213595499958);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 i = floor(v + dot(v, vec4(F4)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x0 = v - i + dot(i, C.xxxx);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 i0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 isX = step(x0.yzw, x0.xxx);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 isYZ = step(x0.zww, x0.yyz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.x = isX.x + isX.y + isX.z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.yzw = 1.0 - isX;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.y += isYZ.x + isYZ.y;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.zw += 1.0 - isYZ.xy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.z += isYZ.z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i0.w += 1.0 - isYZ.z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 i3 = clamp(i0, 0.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 i2 = clamp(i0 - 1.0, 0.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 i1 = clamp(i0 - 2.0, 0.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x1 = x0 - i1 + C.xxxx;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x2 = x0 - i2 + C.yyyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x3 = x0 - i3 + C.zzzz;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x4 = x0 + C.wwww;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i = mod289(i);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float j0 = permute(permute(permute(permute(i.w) + i.z) + i.y) + i.x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 j1 = permute(permute(permute(permute(i.w + vec4(i1.w, i2.w, i3.w, 1.0)) + i.z + vec4(i1.z, i2.z, i3.z, 1.0)) + i.y + vec4(i1.y, i2.y, i3.y, 1.0)) + i.x + vec4(i1.x, i2.x, i3.x, 1.0));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 ip = vec4(1.0 / 294.0, 1.0 / 49.0, 1.0 / 7.0, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p0 = grad4(j0, ip);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p1 = grad4(j1.x, ip);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p2 = grad4(j1.y, ip);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p3 = grad4(j1.z, ip);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p4 = grad4(j1.w, ip);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 norm = inversesqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p0 *= norm.x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p1 *= norm.y;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p2 *= norm.z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p3 *= norm.w;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p4 *= inversesqrt(dot(p4, p4));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 m0 = max(0.6 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2)), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec2 m1 = max(0.6 - vec2(dot(x3, x3), dot(x4, x4)), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                m0 = m0 * m0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                m1 = m1 * m1;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return 49.0 * (dot(m0 * m0, vec3(dot(p0, x0), dot(p1, x1), dot(p2, x2))) + dot(m1 * m1, vec2(dot(p3, x3), dot(p4, x4))));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat mod13(float x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return x - floor(x * (1.0 / 1.0)) * 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec3 mod289(vec3 x) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return x - floor(x * (1.0 / 289.0)) * 289.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat snoise(vec3 v) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 i = floor(v + dot(v, C.yyy));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x0 = v - i + dot(i, C.xxx);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 g = step(x0.yzx, x0.xyz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 l = 1.0 - g;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 i1 = min(g.xyz, l.zxy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 i2 = max(g.xyz, l.zxy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x1 = x0 - i1 + C.xxx;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x2 = x0 - i2 + C.yyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x3 = x0 - D.yyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                i = mod289(i);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 p = permute(permute(permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y + vec4(0.0, i1.y, i2.y, 1.0)) + i.x + vec4(0.0, i1.x, i2.x, 1.0));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float n_ = 0.142857142857;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 ns = n_ * D.wyz - D.xzx;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 j = p - 49.0 * floor(p * ns.z * ns.z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x_ = floor(j * ns.z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 y_ = floor(j - 7.0 * x_);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 x = x_ * ns.x + ns.yyyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 y = y_ * ns.x + ns.yyyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 h = 1.0 - abs(x) - abs(y);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 b0 = vec4(x.xy, y.xy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 b1 = vec4(x.zw, y.zw);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 s0 = floor(b0) * 2.0 + 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 s1 = floor(b1) * 2.0 + 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 sh = -step(h, vec4(0.0));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p0 = vec3(a0.xy, h.x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p1 = vec3(a0.zw, h.y);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p2 = vec3(a1.xy, h.z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 p3 = vec3(a1.zw, h.w);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 norm = inversesqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p0 *= norm.x;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p1 *= norm.y;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p2 *= norm.z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                p3 *= norm.w;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 m = max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                m = m * m;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return 42.0 * dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat SimplexPerlin3D(vec3 P) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float SKEWFACTOR = 1.0 / 3.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float UNSKEWFACTOR = 1.0 / 6.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float SIMPLEX_CORNER_POS = 0.5;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float SIMPLEX_TETRAHADRON_HEIGHT = 0.70710678118654752440084436210485;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                P *= SIMPLEX_TETRAHADRON_HEIGHT;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi = floor(P + dot(P, vec3(SKEWFACTOR)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x0 = P - Pi + dot(Pi, vec3(UNSKEWFACTOR));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 g = step(x0.yzx, x0.xyz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 l = 1.0 - g;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi_1 = min(g.xyz, l.zxy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi_2 = max(g.xyz, l.zxy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x1 = x0 - Pi_1 + UNSKEWFACTOR;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x2 = x0 - Pi_2 + SKEWFACTOR;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 x3 = x0 - SIMPLEX_CORNER_POS;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 v1234_x = vec4(x0.x, x1.x, x2.x, x3.x);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 v1234_y = vec4(x0.y, x1.y, x2.y, x3.y);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 v1234_z = vec4(x0.z, x1.z, x2.z, x3.z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pi.xyz = Pi.xyz - floor(Pi.xyz * (1.0 / 69.0)) * 69.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi_inc1 = step(Pi, vec3(69.0 - 1.5)) * (Pi + 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Pt = vec4(Pi.xy, Pi_inc1.xy) + vec2(50.0, 161.0).xyxy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt *= Pt;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 V1xy_V2xy = mix(Pt.xyxy, Pt.zwzw, vec4(Pi_1.xy, Pi_2.xy));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt = vec4(Pt.x, V1xy_V2xy.xz, Pt.z) * vec4(Pt.y, V1xy_V2xy.yw, Pt.w);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 SOMELARGEFLOATS = vec3(635.298681, 682.357502, 668.926525);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 ZINC = vec3(48.500388, 65.294118, 63.934599);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 lowz_mods = vec3(1.0 / (SOMELARGEFLOATS.xyz + Pi.zzz * ZINC.xyz));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 highz_mods = vec3(1.0 / (SOMELARGEFLOATS.xyz + Pi_inc1.zzz * ZINC.xyz));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pi_1 = (Pi_1.z < 0.5) ? lowz_mods : highz_mods;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pi_2 = (Pi_2.z < 0.5) ? lowz_mods : highz_mods;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_0 = fract(Pt * vec4(lowz_mods.x, Pi_1.x, Pi_2.x, highz_mods.x)) - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_1 = fract(Pt * vec4(lowz_mods.y, Pi_1.y, Pi_2.y, highz_mods.y)) - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_2 = fract(Pt * vec4(lowz_mods.z, Pi_1.z, Pi_2.z, highz_mods.z)) - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_results = inversesqrt(hash_0 * hash_0 + hash_1 * hash_1 + hash_2 * hash_2) * (hash_0 * v1234_x + hash_1 * v1234_y + hash_2 * v1234_z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float FINAL_NORMALIZATION = 37.837227241611314102871574478976;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 kernel_weights = v1234_x * v1234_x + v1234_y * v1234_y + v1234_z * v1234_z;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                kernel_weights = max(0.5 - kernel_weights, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                kernel_weights = kernel_weights * kernel_weights * kernel_weights;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return dot(kernel_weights, grad_results) * FINAL_NORMALIZATION;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat Cellular3D(vec3 P) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi = floor(P);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pf = P - Pi;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pi.xyz = Pi.xyz - floor(Pi.xyz * (1.0 / 69.0)) * 69.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi_inc1 = step(Pi, vec3(69.0 - 1.5)) * (Pi + 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Pt = vec4(Pi.xy, Pi_inc1.xy) + vec2(50.0, 161.0).xyxy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt *= Pt;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt = Pt.xzxz * Pt.yyww;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 SOMELARGEFLOATS = vec3(635.298681, 682.357502, 668.926525);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 ZINC = vec3(48.500388, 65.294118, 63.934599);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 lowz_mod = vec3(1.0 / (SOMELARGEFLOATS + Pi.zzz * ZINC));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 highz_mod = vec3(1.0 / (SOMELARGEFLOATS + Pi_inc1.zzz * ZINC));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_x0 = fract(Pt * lowz_mod.xxxx) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_x1 = fract(Pt * highz_mod.xxxx) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_y0 = fract(Pt * lowz_mod.yyyy) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_y1 = fract(Pt * highz_mod.yyyy) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_z0 = fract(Pt * lowz_mod.zzzz) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hash_z1 = fract(Pt * highz_mod.zzzz) * 2.0 - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const float JITTER_WINDOW = 0.166666666;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_x0 = ((hash_x0 * hash_x0 * hash_x0) - sign(hash_x0)) * JITTER_WINDOW + vec4(0.0, 1.0, 0.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_y0 = ((hash_y0 * hash_y0 * hash_y0) - sign(hash_y0)) * JITTER_WINDOW + vec4(0.0, 0.0, 1.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_x1 = ((hash_x1 * hash_x1 * hash_x1) - sign(hash_x1)) * JITTER_WINDOW + vec4(0.0, 1.0, 0.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_y1 = ((hash_y1 * hash_y1 * hash_y1) - sign(hash_y1)) * JITTER_WINDOW + vec4(0.0, 0.0, 1.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_z0 = ((hash_z0 * hash_z0 * hash_z0) - sign(hash_z0)) * JITTER_WINDOW + vec4(0.0, 0.0, 0.0, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                hash_z1 = ((hash_z1 * hash_z1 * hash_z1) - sign(hash_z1)) * JITTER_WINDOW + vec4(1.0, 1.0, 1.0, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dx1 = Pf.xxxx - hash_x0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dy1 = Pf.yyyy - hash_y0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dz1 = Pf.zzzz - hash_z0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dx2 = Pf.xxxx - hash_x1;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dy2 = Pf.yyyy - hash_y1;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 dz2 = Pf.zzzz - hash_z1;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 d1 = dx1 * dx1 + dy1 * dy1 + dz1 * dz1;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 d2 = dx2 * dx2 + dy2 * dy2 + dz2 * dz2;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                d1 = min(d1, d2);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                d1.xy = min(d1.xy, d1.wz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return min(d1.x, d1.y) * (9.0 / 12.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nfloat Perlin3D(vec3 P) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi = floor(P);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pf = P - Pi;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pf_min1 = Pf - 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pi.xyz = Pi.xyz - floor(Pi.xyz * (1.0 / 69.0)) * 69.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 Pi_inc1 = step(Pi, vec3(69.0 - 1.5)) * (Pi + 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 Pt = vec4(Pi.xy, Pi_inc1.xy) + vec2(50.0, 161.0).xyxy;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt *= Pt;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                Pt = Pt.xzxz * Pt.yyww;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 SOMELARGEFLOATS = vec3(635.298681, 682.357502, 668.926525);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                const vec3 ZINC = vec3(48.500388, 65.294118, 63.934599);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 lowz_mod = vec3(1.0 / (SOMELARGEFLOATS + Pi.zzz * ZINC));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 highz_mod = vec3(1.0 / (SOMELARGEFLOATS + Pi_inc1.zzz * ZINC));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashx0 = fract(Pt * lowz_mod.xxxx);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashx1 = fract(Pt * highz_mod.xxxx);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashy0 = fract(Pt * lowz_mod.yyyy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashy1 = fract(Pt * highz_mod.yyyy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashz0 = fract(Pt * lowz_mod.zzzz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 hashz1 = fract(Pt * highz_mod.zzzz);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_x0 = hashx0 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_y0 = hashy0 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_z0 = hashz0 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_x1 = hashx1 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_y1 = hashy1 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_z1 = hashz1 - 0.49999;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_results_0 = inversesqrt(grad_x0 * grad_x0 + grad_y0 * grad_y0 + grad_z0 * grad_z0) * (vec2(Pf.x, Pf_min1.x).xyxy * grad_x0 + vec2(Pf.y, Pf_min1.y).xxyy * grad_y0 + Pf.zzzz * grad_z0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 grad_results_1 = inversesqrt(grad_x1 * grad_x1 + grad_y1 * grad_y1 + grad_z1 * grad_z1) * (vec2(Pf.x, Pf_min1.x).xyxy * grad_x1 + vec2(Pf.y, Pf_min1.y).xxyy * grad_y1 + Pf_min1.zzzz * grad_z1);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 blend = Pf * Pf * Pf * (Pf * (Pf * 6.0 - 15.0) + 10.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 res0 = mix(grad_results_0, grad_results_1, blend.z);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 blend2 = vec4(blend.xy, vec2(1.0 - blend.xy));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float final = dot(res0, blend2.zxzx * blend2.wwyy);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return (final * 1.1547005383792515290182975610039);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nmat4 calculateLookAtMatrix(vec3 eye, vec3 center, vec3 up) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 zaxis = normalize(center - eye);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 xaxis = normalize(cross(zaxis, up));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 yaxis = cross(xaxis, zaxis);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                mat4 lookAtMatrix;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                lookAtMatrix[0] = vec4(xaxis.x, yaxis.x, zaxis.x, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                lookAtMatrix[1] = vec4(xaxis.y, yaxis.y, zaxis.y, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                lookAtMatrix[2] = vec4(xaxis.z, yaxis.z, zaxis.z, 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                lookAtMatrix[3] = vec4(dot(xaxis, -eye), dot(yaxis, -eye), dot(zaxis, -eye), 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return lookAtMatrix;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nmat4 calculateLookAtMatrix(vec3 eye, vec3 center, float roll) \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return calculateLookAtMatrix(eye, center, vec3(sin(roll), cos(roll), 0.0));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvec4 ZK_shield1572300280449_720_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 ZK_shield1572300280449_720_gl_FragColor = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 worldPosition = (modelMatrix * vec4(vPosition, 1.0)).xyz;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 worldNormal = normalize(vec3(modelMatrix * vec4(vNormal, 0.0)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 standardVec = worldNormal * 4.0 + worldNormal * 15.0 * max(0.8 - distance(hitPosition.xyz, worldPosition), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                standardVec.y += time * 0.3;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float noiseLevel = 0.5;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                mat4 hitPointMat = calculateLookAtMatrix(hitPosition.xyz, vec3(0.0), 0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 hpNormal = (hitPointMat * vec4(worldNormal, 0.0)).xyz;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 noiseVec = hpNormal * 2.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                noiseVec.z -= time * 1.6;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                noiseLevel *= 1.5 * sin(noiseVec.z * 8.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float noiseMult = Cellular3D(standardVec) + abs(snoise(noiseVec)) * noiseLevel * 0.15;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                float offset = 1.0 - smoothstep(0.0, 1.0, distance(hitPosition, worldPosition));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                offset *= 3.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec3 col = color * (0.9 + offset) * noiseMult;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                ZK_shield1572300280449_720_gl_FragColor = vec4(col, distance(col, vec3(0.0)));\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return ZK_shield1572300280449_720_gl_FragColor *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_FragColor = ZK_shield1572300280449_720_main();                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "vertex": "precision highp float;\nprecision highp int;\nuniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nuniform float time;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\nvarying vec3 vPosition;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec2 vUv2;\nvec4 ZK_shield1572300280449_720_main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vec4 ZK_shield1572300280449_720_gl_Position = vec4(0.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vNormal = normal;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vUv = uv;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vUv2 = uv2;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                vPosition = position;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                ZK_shield1572300280449_720_gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                return ZK_shield1572300280449_720_gl_Position *= 1.0;\n                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\nvoid main() \n                                                                                                                                                                                                                                                                                                                                                                                                                                                            {\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                gl_Position = ZK_shield1572300280449_720_main();                                                                                                                                                                                                                                                                                                                                                                                                                                                            }\n",
  "uniforms": {
    "cameraPosition": {
      "type": "v3",
      "glslType": "vec3"
    },
    "time": {
      "type": "f",
      "glslType": "float"
    },
    "color": {
      "value": {
        "r": 0,
        "g": 0.5019607843137255,
        "b": 1
      },
      "type": "c",
      "glslType": "vec3"
    },
    "hitPosition": {
      "value": {
        "x": 0.661097113346219,
        "y": 0.2374623278698238,
        "z": 0.711731866342895
      },
      "type": "v3",
      "glslType": "vec3"
    }
  },
  "url": "http://shaderfrog.com/app/view/3925",
  "user": {
    "username": "mhellar",
    "url": "http://shaderfrog.com/app/profile/andrewray"
  }
}